@model ServiceReminder
@{
    ViewData["Title"] = $"Service - {Model.Title}";
}

<h1>@Model.Title</h1>
<p class="text-muted">@Model.Bike?.Name</p>

<dl class="row">
    <dt class="col-sm-3">Due</dt>
    <dd class="col-sm-9">@(Model.DueDate?.ToString("f") ?? $"{Model.DueMileage} km")</dd>
    <dt class="col-sm-3">Status</dt>
    <dd class="col-sm-9">
        <span class="badge @(Model.IsCompleted ? "bg-success" : "bg-warning text-dark")">@(Model.IsCompleted ? "Completed" : "Pending")</span>
    </dd>
    <dt class="col-sm-3">Description</dt>
    <dd class="col-sm-9">@Model.Description</dd>
</dl>

@if (User.Identity?.IsAuthenticated ?? false)
{
    <form asp-action="Complete" asp-route-id="@Model.Id" method="post" class="d-inline">
        <button type="submit" class="btn btn-success" @(Model.IsCompleted ? "disabled" : string.Empty)>Mark as done</button>
    </form>
    <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-outline-primary">Edit</a>
    <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-outline-danger">Delete</a>
}
